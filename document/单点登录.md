子系统a  子系统b  认证中心s
1.	首次访问a的受保护资源（目标地址），a拦截器发现未登录，跳转至s，并携带目标地址作为参数
2.	s拦截器发现未登录，则携带目标地址跳转至s的登录页面
3.	登录成功后，s创建session全局回话，保存登录状态，创建并保存令牌。
4.	根据目标地址跳转回子系统的受保护资源，并附上令牌参数。
5.	a接收到s返回的目标地址请求，拦截器接收到令牌，此时a仍属于未登录状态。
6.	a根据s的开发校验接口，向s发起请求，校验令牌的合法性。
7.	s接收到校验请求，返回校验结果。注：这个校验请求过程全程不经过拦截器。
8.	校验成功，a创建局部会话，根据令牌创建与用户的会话，代表已登录状态。并返回受保护资源。
9.	二次访问a的受保护资源，a拦截器发现已经登录，直接返回资源。

10.	首次访问b的受保护资源，b拦截器发现未登录，跳转至s，并携带目标地址作为参数
11.	s拦截器发现全局回话已被创建，跳转回b的目标地址，并附上令牌参数。
12.	b拦截拦截目标地址，发现仍未登录，但是获取到令牌，去s校验令牌.
13.	令牌合法，创建b的局部会话，保存登录状态，返回受保护资源。
14.	二次访问b的受保护资源，b拦截器发现已经登录，返回受保护资源。


15.	注销a，a拦截器发现已经登录，则跳至s的注销接口，并附上令牌参数
16.	s拦截注销请求，发现已经登录，放行。
17.	s注销全局会话，销毁令牌，向a和b发送注销局部会话的请求。
18.	a、b拦截到来自s的注销请求，a、b发现已经登录，则放行。
19.	a、b注销局部会话。


s拦截器的作用
1.	拦截所有来自子系统的请求，如未登录，则跳至登录页面，
2.	如已经登录但没有令牌，就附上令牌，并返回子系统的目标地址
3.	如已经登录也有令牌，则直接放行

a、	b拦截器的作用
1.	拦截所有非静态资源的请求，如已经登录，则放行
2.	如未登录且没有令牌，则跳至s
3.	如未登录但是有令牌，则验证令牌，令牌合法就创建会话保存登录状态。
